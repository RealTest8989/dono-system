{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Lennart\\\\Desktop\\\\dono-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Lennart\\\\Desktop\\\\dono-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Lennart\\\\Desktop\\\\dono-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Lennart\\\\Desktop\\\\dono-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Lennart\\\\Desktop\\\\dono-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import Navbar from\"./navbar.component\";import{PayPalButton}from\"react-paypal-button-v2\";var Donate=/*#__PURE__*/function(_Component){_inherits(Donate,_Component);var _super=_createSuper(Donate);function Donate(props){var _this;_classCallCheck(this,Donate);_this=_super.call(this,props);_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangeMessage=_this.onChangeMessage.bind(_assertThisInitialized(_this));_this.onChangeAmount=_this.onChangeAmount.bind(_assertThisInitialized(_this));_this.onChangeMedia_Url=_this.onChangeMedia_Url.bind(_assertThisInitialized(_this));_this.onChangeStart_Time=_this.onChangeStart_Time.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={username:'Anonymous',message:'',amount:2,media_url:'',start_time:0,played:false};return _this;}_createClass(Donate,[{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangeMessage\",value:function onChangeMessage(e){this.setState({message:e.target.value});}},{key:\"onChangeAmount\",value:function onChangeAmount(e){if(!e.target.value<2){this.setState({amount:e.target.value});}}},{key:\"onChangeMedia_Url\",value:function onChangeMedia_Url(e){this.setState({media_url:e.target.value});}},{key:\"onChangeStart_Time\",value:function onChangeStart_Time(e){this.setState({start_time:e.target.value});}/*\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let start_time = this.state.start_time;\r\n    if(start_time != 0){\r\n      let a = start_time.split(':');\r\n\r\n      start_time = (+a[0]) * 60 * 60 + (+a[1]) * 60 + (+a[2]); \r\n    }\r\n\r\n\r\n    const donation = {\r\n      username: this.state.username,\r\n      message: this.state.message,\r\n      amount: this.state.amount,\r\n      media_url: this.state.media_url,\r\n      start_time: start_time,\r\n      played: this.state.played\r\n    }\r\n\r\n    console.log(donation);\r\n\r\n    axios.post('http://localhost:5000/donations/add', donation)\r\n      .then(res => console.log(res.data));\r\n\r\n    // window.location = '/';\r\n  }\r\n  */},{key:\"onSubmit\",value:function onSubmit(){var start_time=this.state.start_time;if(start_time!=0){var a=start_time.split(':');start_time=+a[0]*60*60+ +a[1]*60+ +a[2];}var donation={username:this.state.username,message:this.state.message,amount:this.state.amount,media_url:this.state.media_url,start_time:start_time,played:this.state.played};console.log(donation);axios.post('http://localhost:5000/donations/add',donation).then(function(res){return console.log(res.data);});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"test\",style:{width:'100%',background:'#222222',padding:'20px 0'}},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container donation-form\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Donate\"),/*#__PURE__*/React.createElement(\"p\",null,\"Thank you for supporting the stream! All tips are non-refundable. Please only tip if you have the means to do so.\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"text\",value:this.state.username,onChange:this.onChangeUsername,placeholder:\"Username\",className:\"form-control\",id:\"username\",name:\"username\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"amount\"},\"Tip Amount ($)\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"number\",value:this.state.amount,onChange:this.onChangeAmount,placeholder:\"Your tip amount\",className:\"form-control\",min:\"2\",id:\"amount\",name:\"amount\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"message\"},\"Message\"),/*#__PURE__*/React.createElement(\"textarea\",{value:this.state.message,onChange:this.onChangeMessage,rows:\"2\",maxLength:\"255\",placeholder:\"Your message...\",className:\"form-control\",id:\"message\",name:\"message\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-8\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"media_url\"},\"Share Media\"),/*#__PURE__*/React.createElement(\"input\",{type:\"url\",value:this.state.media_url,onChange:this.onChangeMedia_Url,placeholder:\"YouTube Video URL...\",className:\"form-control\",id:\"media_url\",name:\"media_url\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"start_time\"},\"Start Time (h/m/s)\"),/*#__PURE__*/React.createElement(\"input\",{type:\"time\",value:this.state.start_time,onChange:this.onChangeStart_Time,className:\"form-control\",id:\"start_time\",name:\"start_time\",step:\"1\"})))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{class:\"col-md-4\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Pay with Paypal\"),/*#__PURE__*/React.createElement(PayPalButton,{amount:this.state.amount,onSuccess:function onSuccess(details,data){_this2.onSubmit();return fetch(\"/paypal-transaction-complete\",{method:\"post\",body:JSON.stringify({orderID:data.orderID,clientID:'ARZentNKUBtCx5GLk5mgB8mxWReWmLzO7L57DzN53fs1pM8CrE3TMli_0wF54TYlfcD49FGmbQda0syX'})});}})))));}}]);return Donate;}(Component);export{Donate as default};","map":{"version":3,"sources":["C:/Users/Lennart/Desktop/dono-system/src/components/donate.component.js"],"names":["React","Component","axios","Navbar","PayPalButton","Donate","props","onChangeUsername","bind","onChangeMessage","onChangeAmount","onChangeMedia_Url","onChangeStart_Time","onSubmit","state","username","message","amount","media_url","start_time","played","e","setState","target","value","a","split","donation","console","log","post","then","res","data","width","background","padding","details","fetch","method","body","JSON","stringify","orderID","clientID"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from \"./navbar.component\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\n\r\nexport default class Donate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeUsername = this.onChangeUsername.bind(this);\r\n    this.onChangeMessage = this.onChangeMessage.bind(this);\r\n    this.onChangeAmount = this.onChangeAmount.bind(this);\r\n    this.onChangeMedia_Url = this.onChangeMedia_Url.bind(this);\r\n    this.onChangeStart_Time = this.onChangeStart_Time.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: 'Anonymous',\r\n      message: '',\r\n      amount: 2,\r\n      media_url: '',\r\n      start_time: 0,\r\n      played: false\r\n    }\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      username: e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeMessage(e) {\r\n    this.setState({\r\n      message: e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeAmount(e) {\r\n    if(!e.target.value < 2){\r\n      this.setState({\r\n        amount: e.target.value\r\n      })\r\n    }\r\n  }\r\n\r\n  onChangeMedia_Url(e) {\r\n    this.setState({\r\n      media_url: e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeStart_Time(e) {\r\n    this.setState({\r\n      start_time: e.target.value\r\n    })\r\n  }\r\n\r\n  /*\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let start_time = this.state.start_time;\r\n    if(start_time != 0){\r\n      let a = start_time.split(':');\r\n\r\n      start_time = (+a[0]) * 60 * 60 + (+a[1]) * 60 + (+a[2]); \r\n    }\r\n\r\n\r\n    const donation = {\r\n      username: this.state.username,\r\n      message: this.state.message,\r\n      amount: this.state.amount,\r\n      media_url: this.state.media_url,\r\n      start_time: start_time,\r\n      played: this.state.played\r\n    }\r\n\r\n    console.log(donation);\r\n\r\n    axios.post('http://localhost:5000/donations/add', donation)\r\n      .then(res => console.log(res.data));\r\n\r\n    // window.location = '/';\r\n  }\r\n  */\r\n\r\n  onSubmit() {\r\n\r\n    let start_time = this.state.start_time;\r\n    if(start_time != 0){\r\n      let a = start_time.split(':');\r\n\r\n      start_time = (+a[0]) * 60 * 60 + (+a[1]) * 60 + (+a[2]); \r\n    }\r\n\r\n\r\n    const donation = {\r\n      username: this.state.username,\r\n      message: this.state.message,\r\n      amount: this.state.amount,\r\n      media_url: this.state.media_url,\r\n      start_time: start_time,\r\n      played: this.state.played\r\n    }\r\n\r\n    console.log(donation);\r\n\r\n    axios.post('http://localhost:5000/donations/add', donation)\r\n      .then(res => console.log(res.data));\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    \r\n    return (\r\n    <div className=\"test\" style={{width: '100%', background: '#222222', padding: '20px 0' }}>\r\n    <div className=\"container\">\r\n    <Navbar />\r\n    <div className=\"container donation-form\">\r\n      <h2>Donate</h2>\r\n      <p>Thank you for supporting the stream! All tips are non-refundable. Please only tip if you have the means to do so.</p>\r\n      <hr/>\r\n      <form>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input\r\n              required \r\n              type=\"text\" \r\n              value={this.state.username} \r\n              onChange={this.onChangeUsername} \r\n              placeholder=\"Username\" \r\n              className=\"form-control\" \r\n              id=\"username\" \r\n              name=\"username\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n              <label htmlFor=\"amount\">Tip Amount ($)</label>\r\n              <input \r\n                required \r\n                type=\"number\" \r\n                value={this.state.amount} \r\n                onChange={this.onChangeAmount} \r\n                placeholder=\"Your tip amount\" \r\n                className=\"form-control\" \r\n                min=\"2\"\r\n                id=\"amount\" \r\n                name=\"amount\" \r\n              />\r\n            </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"message\">Message</label>\r\n            <textarea \r\n              value={this.state.message} \r\n              onChange={this.onChangeMessage} \r\n              rows=\"2\" \r\n              maxLength=\"255\" \r\n              placeholder=\"Your message...\" \r\n              className=\"form-control\" \r\n              id=\"message\"\r\n              name=\"message\"\r\n            >\r\n            </textarea>\r\n          </div>\r\n          <div className=\"form-row\">\r\n              <div className=\"form-group col-md-8\">\r\n                  <label htmlFor=\"media_url\">Share Media</label>\r\n                  <input \r\n                    type=\"url\" \r\n                    value={this.state.media_url} \r\n                    onChange={this.onChangeMedia_Url} \r\n                    placeholder=\"YouTube Video URL...\" \r\n                    className=\"form-control\" \r\n                    id=\"media_url\" \r\n                    name=\"media_url\"\r\n                  />\r\n              </div>\r\n              <div className=\"form-group col-md-4\">\r\n                  <label htmlFor=\"start_time\">Start Time (h/m/s)</label>\r\n                  <input \r\n                    type=\"time\" \r\n                    value={this.state.start_time} \r\n                    onChange={this.onChangeStart_Time} \r\n                    className=\"form-control\" \r\n                    id=\"start_time\" \r\n                    name=\"start_time\" \r\n                    step=\"1\"\r\n                  />\r\n              </div>\r\n          </div>\r\n          {/*\r\n          <button type=\"submit\" className=\"btn btn-primary\">Donate</button>\r\n          */}\r\n        </form>\r\n        <hr/>\r\n        <div class=\"col-md-4\">\r\n        <h2>Pay with Paypal</h2>\r\n          <PayPalButton\r\n          amount={this.state.amount}\r\n\r\n          onSuccess={(details, data) => {\r\n            this.onSubmit();\r\n\r\n            return fetch(\"/paypal-transaction-complete\", {\r\n              method: \"post\",\r\n              body: JSON.stringify({\r\n                orderID: data.orderID,\r\n                clientID: 'ARZentNKUBtCx5GLk5mgB8mxWReWmLzO7L57DzN53fs1pM8CrE3TMli_0wF54TYlfcD49FGmbQda0syX'\r\n              })\r\n            });\r\n          }}\r\n          />\r\n        </div>\r\n    </div>\r\n    </div>\r\n    </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}