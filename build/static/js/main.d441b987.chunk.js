(this["webpackJsonpdono-system"]=this["webpackJsonpdono-system"]||[]).push([[0],{43:function(e,a,t){e.exports=t.p+"static/media/logo.4c8a8d13.png"},47:function(e,a,t){e.exports=t.p+"static/media/donation-alert.e07cc1ae.mp3"},51:function(e,a,t){e.exports=t(86)},56:function(e,a,t){},76:function(e,a,t){},86:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),o=t(24),l=t.n(o),r=(t(56),t(48)),i=t(9),m=t(12),c=t(13),u=t(8),d=t(15),h=t(14),g=t(16),p=t.n(g),v=t(43),f=t.n(v),b=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark static-top"},s.a.createElement("div",{className:"container"},s.a.createElement("a",{className:"navbar-brand",href:"#"},s.a.createElement("img",{src:f.a,alt:"Logo"}),"Captain Content"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item active"},s.a.createElement("a",{className:"nav-link",href:"/"},s.a.createElement("i",{className:"fas fa-money-bill-wave"}),"Donate")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"https://www.youtube.com/user/maxmonseinable",target:"_blank"},s.a.createElement("i",{className:"fab fa-youtube"}),"Youtube")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"https://Instagram.com/captaincontentlive",target:"_blank"},s.a.createElement("i",{className:"fab fa-instagram"}),"Instagram")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"https://discordapp.com/invite/yp8ZbrB",target:"_blank"},s.a.createElement("i",{className:"fab fa-discord"}),"Discord"))))))}}]),t}(n.Component),E=t(44),y=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(u.a)(n)),n.onChangeMessage=n.onChangeMessage.bind(Object(u.a)(n)),n.onChangeAmount=n.onChangeAmount.bind(Object(u.a)(n)),n.onChangeMedia_Url=n.onChangeMedia_Url.bind(Object(u.a)(n)),n.onChangeStart_Time=n.onChangeStart_Time.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={username:"Anonymous",message:"",amount:2,media_url:"",start_time:0,played:!1},n}return Object(c.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeMessage",value:function(e){this.setState({message:e.target.value})}},{key:"onChangeAmount",value:function(e){!e.target.value<2&&this.setState({amount:e.target.value})}},{key:"onChangeMedia_Url",value:function(e){this.setState({media_url:e.target.value})}},{key:"onChangeStart_Time",value:function(e){this.setState({start_time:e.target.value})}},{key:"onSubmit",value:function(){var e=this.state.start_time;if(0!=e){var a=e.split(":");e=60*+a[0]*60+60*+a[1]+ +a[2]}var t={username:this.state.username,message:this.state.message,amount:this.state.amount,media_url:this.state.media_url,start_time:e,played:this.state.played};console.log(t),p.a.post("http://localhost:5000/donations/add",t).then((function(e){return console.log(e.data)}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"test",style:{width:"100%",background:"#222222",padding:"20px 0"}},s.a.createElement("div",{className:"container"},s.a.createElement(b,null),s.a.createElement("div",{className:"container donation-form"},s.a.createElement("h2",null,"Donate"),s.a.createElement("p",null,"Thank you for supporting the stream! All tips are non-refundable. Please only tip if you have the means to do so."),s.a.createElement("hr",null),s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement("input",{required:!0,type:"text",value:this.state.username,onChange:this.onChangeUsername,placeholder:"Username",className:"form-control",id:"username",name:"username"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"amount"},"Tip Amount ($)"),s.a.createElement("input",{required:!0,type:"number",value:this.state.amount,onChange:this.onChangeAmount,placeholder:"Your tip amount",className:"form-control",min:"2",id:"amount",name:"amount"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"message"},"Message"),s.a.createElement("textarea",{value:this.state.message,onChange:this.onChangeMessage,rows:"2",maxLength:"255",placeholder:"Your message...",className:"form-control",id:"message",name:"message"})),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-8"},s.a.createElement("label",{htmlFor:"media_url"},"Share Media"),s.a.createElement("input",{type:"url",value:this.state.media_url,onChange:this.onChangeMedia_Url,placeholder:"YouTube Video URL...",className:"form-control",id:"media_url",name:"media_url"})),s.a.createElement("div",{className:"form-group col-md-4"},s.a.createElement("label",{htmlFor:"start_time"},"Start Time (h/m/s)"),s.a.createElement("input",{type:"time",value:this.state.start_time,onChange:this.onChangeStart_Time,className:"form-control",id:"start_time",name:"start_time",step:"1"})))),s.a.createElement("hr",null),s.a.createElement("div",{class:"col-md-4"},s.a.createElement("h2",null,"Pay with Paypal"),s.a.createElement(E.PayPalButton,{amount:this.state.amount,onSuccess:function(a,t){return e.onSubmit(),fetch("/paypal-transaction-complete",{method:"post",body:JSON.stringify({orderID:t.orderID,clientID:"ARZentNKUBtCx5GLk5mgB8mxWReWmLzO7L57DzN53fs1pM8CrE3TMli_0wF54TYlfcD49FGmbQda0syX"})})}})))))}}]),t}(n.Component),N=(t(76),t(45)),_=t.n(N),C=t(46),k=t.n(C),S=t(47),O=t.n(S),j=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).state={loaded:!1,tts_finished:!1,playing:!1},n}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.state.playing||p.a.get("http://localhost:5000/donations/queue").then((function(a){e.setState({donations:a.data,loaded:!0,tts_finished:!1})})).catch((function(e){console.log(e)}))}),1e4)}},{key:"componentDidUpdate",value:function(e,a,t){var n=this;if(null!=this.state.donations[0]?console.log(this.state.donations[0]):console.log("No donation found."),a.donations!=this.state.donations&&null!=this.state.donations[0]){var s={id:this.state.donations[0]._id,username:this.state.donations[0].username,message:this.state.donations[0].message,amount:this.state.donations[0].amount,media_url:this.state.donations[0].media_url,start_time:this.state.donations[0].start_time,played:!0};this.setState({playing:!0}),p.a.post("http://localhost:5000/donations/update/"+s.id,s).then((function(e){return console.log(e.data)})),document.getElementsByClassName("donation-alert")[0].play();var o=new _.a;o.setLanguage("en-GB"),o.setPitch(1),o.setRate(.8),setTimeout((function(){return o.speak({text:"".concat(s.username," donated $").concat(s.amount," ").concat(s.message),listeners:{onend:function(){n.setState({tts_finished:!0}),s.media_url?setTimeout((function(){n.setState({playing:!1})}),3e4):n.setState({playing:!1})}}})}),5800)}}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"alertbox"},this.state.tts_finished&&this.state.donations[0].media_url?s.a.createElement(k.a,{url:this.state.donations[0].media_url,width:"0",height:"0",config:{youtube:{playerVars:{start:this.state.donations[0].start_time,end:this.state.donations[0].start_time+30}}},playing:!0}):s.a.createElement("div",null),this.state.loaded&&this.state.donations[0]?s.a.createElement("div",null,s.a.createElement("audio",{className:"donation-alert"},s.a.createElement("source",{src:O.a})),s.a.createElement("div",{id:"alert"},s.a.createElement("div",{className:"donation"},s.a.createElement("span",{className:"alert-color"},this.state.donations[0].username?this.state.donations[0].username:"Anonymous")," donated ",s.a.createElement("span",{className:"alert-color"},"$",this.state.donations[0].amount),"!"),s.a.createElement("div",{className:"message"},this.state.donations[0].message?this.state.donations[0].message:"")),s.a.createElement("div",{id:"player"})):s.a.createElement("div",null)))}}]),t}(n.Component);var x=function(){return s.a.createElement(r.a,null,s.a.createElement(i.a,{path:"/alertbox",component:j}),s.a.createElement(i.a,{path:"/donate",component:y}))};l.a.render(s.a.createElement(x,null),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.d441b987.chunk.js.map